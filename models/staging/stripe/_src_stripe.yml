sources:
  - name: stripe
    database: raw
    schema: stripe
    config:
      freshness:
        warn_after:
          count: 12
          period: hour
        error_after:
          count: 24
          period: hour
      loaded_at_field: _batched_at
    tables:
      - name: payment
        columns:
          - name: id
            data_tests:
              - unique
              - not_null
          - name: orderid
            data_tests:
              - not_null
          - name: amount
            tests:
              - dbt_expectations.expect_column_values_to_be_between:
                  min_value: 0